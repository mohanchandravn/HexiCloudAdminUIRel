<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->

<div class="createuser-page oj-flex">
    <div class="page-content oj-flex-item oj-sm-12">
<!--        <div class="back-button"><a id="anchor" href="#" data-bind="click: backButtonClick, ojComponent: { component: 'ojButton' }">Back</a></div>-->
        <div id="createUserFormContainer" class="oj-form-layout">
            <div class="oj-form">
                <div class="oj-flex">  
                    <div class="oj-flex-item form-title">
                        <span data-bind="text: pageTitle"></span>
                    </div>
                </div>
                <div class="oj-flex">  
                    <div class="oj-flex-item">
                        <label for="userName">User Name</label>
                        <input id="userName" maxlength="20" data-bind="ojComponent: { component: 'ojInputText', value: userName, required: true, invalidComponentTracker: tracker }">
                    </div>
                </div>
                <!--ko if: isCreateMode-->
                <div class="oj-flex">  
                    <div class="oj-flex-item">
                        <label for="password">Password</label>
                        <input id="password" maxlength="20" type="password" data-bind="ojComponent: { component: 'ojInputPassword', value: password, required: true, validators: [minLength], invalidComponentTracker: tracker }">
                    </div>
                </div>
                <!--/ko-->
                 <!--ko if: isCreateMode-->
                <div class="oj-flex">  
                    <div class="oj-flex-item">
                        <label for="passwordRepeat">Re-enter Password</label>
                        <input id="passwordRepeat" maxlength="20" type="password" data-bind="ojComponent: { component: 'ojInputPassword', value: passwordRepeat, required: true, validators: [equalToPassword], invalidComponentTracker: tracker}">
                    </div>
                </div>
                 <!--/ko-->
                <div class="oj-flex">  
                    <div class="oj-flex-item">
                        <label for="role">Role</label>
                        <select id="role" data-bind="ojComponent: { component: 'ojSelect', options: userRoles, value: userRole, placeholder: 'Select user role', required: true, invalidComponentTracker: tracker }"></select>
                    </div>
                </div>
                <div class="oj-flex">  
                    <div class="oj-flex-item">
                        <label for="firstName">First Name</label>
                        <input id="firstName" maxlength="60" data-bind="ojComponent: { component: 'ojInputText', value: firstName, required: true, invalidComponentTracker: tracker }">
                    </div>
                </div>
                <div class="oj-flex">  
                    <div class="oj-flex-item">
                        <label for="lastName">Last Name</label>
                        <input id="lastName" maxlength="60" data-bind="ojComponent: { component: 'ojInputText', value: lastName, required: true, invalidComponentTracker: tracker }">
                    </div>
                </div>                
                <div class="oj-flex">  
                    <div class="oj-flex-item">
                        <label for="email">Email</label>
                        <input id="email" maxlength="50" data-bind="ojComponent: { component: 'ojInputText', value: email, required: true, validators: [{ type: 'regExp', options: { pattern: emailPattern, messageDetail: 'Please enter a valid email.' } }], invalidComponentTracker: tracker }">
                    </div>
                </div> 
                <div class="oj-flex">  
                    <div class="oj-flex-item">
                        <label for="phone">Coutry Code - Phone</label>
                        <input id="phone" maxlength="4" data-bind="ojComponent: { component: 'ojInputText', value: countryCode, required: true,   rootAttributes: {style:'width:35px'}, validators: [{ type: 'regExp', options: { pattern: phonePattern, messageDetail: 'Please enter a valid country code.' } }], invalidComponentTracker: tracker}">
                        <span> - </span>
                        <input id="phone" maxlength="14" data-bind="ojComponent: { component: 'ojInputText', value: phone, required: true, validators: [{ type: 'regExp', options: { pattern: phonePattern, messageDetail: 'Please enter a valid phone number.' } }], invalidComponentTracker: tracker }">
                    </div>
                </div> 
                <div class="oj-flex oj-lg-5">
                    <div class="oj-flex-item">
                        <label for="customer">Customer</label>
                        <select id="customer" data-bind="ojComponent: {component: 'ojSelect',
                                                         value: customerId,
                                                         options: customerList,
                                                         placeholder: 'Select a customer',
                                                         required: true,
                                                         invalidComponentTracker: tracker,
                                                        rootAttributes: {style:'max-width:100%'}
                                                        }"></select>
                    </div>
                </div>
                <div class="oj-flex create-user-button-container">  
                    <div class="oj-flex-item">
                        <div class="oj-form-control-group" aria-labelledby="inputgrouplabel" role="group">
                            <button id="submit" data-bind="ojComponent: { component: 'ojButton', label: 'Submit', disabled: shouldDisableCreate() }, click: onCreateUserButtonClick"></button>
                            <button id="cancel" data-bind="ojComponent: { component: 'ojButton', label: 'Reset' }, click: onResetButtonClick"></button>
                            <button id="back" data-bind="ojComponent: { component: 'ojButton', label: 'Back' }, click: onBackButtonClick"></button>
                        </div>                   
                    </div>
                </div>                
            </div>
        </div>
        
        <div style="display:none" id="modalDialogCreateUserStatus" data-bind="ojComponent:{component: 'ojDialog', initialVisibility: 'hide', cancelBehavior: 'escape'}">
            <div class="oj-dialog-header" style="height: 0px"></div>
            <div class="oj-dialog-body">
                <p data-bind="text: createUserStatus"></p>
            </div>
            <div class="oj-dialog-footer" style="margin: auto">
                <button id="okButton" style="width: 280px " data-bind="ojComponent: {component: 'ojButton', label: 'OK'}"> </button>
            </div>
        </div>
        
    </div>
</div>